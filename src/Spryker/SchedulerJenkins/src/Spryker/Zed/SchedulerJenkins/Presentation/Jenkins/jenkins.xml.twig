<?xml version='1.0' encoding='UTF-8'?>
<project>
    <actions/>
    <description>{% if job.description is not empty %}{{ job.description }}{% endif %}</description>
    <logRotator>
        <daysToKeep>{{ job.payload.logrotate_days }}</daysToKeep>
        <numToKeep>-1</numToKeep>
        <artifactDaysToKeep>{{ job.payload.logrotate_days }}</artifactDaysToKeep>
        <artifactNumToKeep>-1</artifactNumToKeep>
    </logRotator>
    <keepDependencies>false</keepDependencies>
    <properties/>
    <scm class='hudson.scm.NullSCM'/>
    <canRoam>true</canRoam>
    <disabled>{{ not job.enable }}</disabled>
    <blockBuildWhenDownstreamBuilding>false</blockBuildWhenDownstreamBuilding>
    <blockBuildWhenUpstreamBuilding>false</blockBuildWhenUpstreamBuilding>
    <triggers class='vector'>
        <hudson.triggers.TimerTrigger>
            <spec>{{ job.schedule }}</spec>
        </hudson.triggers.TimerTrigger>
    </triggers>
    <concurrentBuild>false</concurrentBuild>
    <builders>
        <hudson.tasks.Shell>
            <command>{{ job.command }}</command>
        </hudson.tasks.Shell>
    </builders>
    {% if job.notifications is defined and job.notifications is iterable %}
        <publishers>
            <hudson.tasks.Mailer>
                <recipients>{{ job.notifications|split(',') }}</recipients>
                <dontNotifyEveryUnstableBuild>false</dontNotifyEveryUnstableBuild>
                <sendToIndividuals>false</sendToIndividuals>
            </hudson.tasks.Mailer>
        </publishers>
    {% else %}
        <publishers/>
    {% endif %}
    <buildWrappers/>
</project>
