{% set chartDivId = chartType ~ '-' ~ data.key %}

{% block chartContent %}
    {% if data.traces | length > 0 %}
        <div id="{{ chartDivId }}"></div>

        <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
        <script>/*<![CDATA[*/
            var chartLayout = {{ layout.toArray | json_encode | raw }};
            chartLayout.title = '{{ layout.title | default(data.title) }}';
            chartLayout.margin = {
                l: 8 * {{ maxLabeLength }}, // left
            };
            Plotly.plot('{{ chartDivId }}', chartData, chartLayout, { displayModeBar: false });

        /*]]>*/</script>
    {% endif %}
{% endblock %}
